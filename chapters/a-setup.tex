\chapter{Einrichtung und Betrieb}

GitHub Repositoria:

\begin{itemize}
  \item Zielarchitetkur: \url{https://github.com/themerius/ScalTeX-templates}
  \item DSL: \url{https://github.com/themerius/ScalTeX-DSL}
\end{itemize}

\section{Voraussetzungen}

\begin{itemize}
  \item Java Virtual Machine bzw. OpenJDK in Version 6 oder 7,
  \item UNIX Betriebssystem,
  \item git,
  \item sbt.
\end{itemize}

\section{Installation}

\begin{enumerate}
  \item Mit git das Repositorium herunterladen:
        \begin{verbatim}
          git clone https://github.com/themerius/ScalTeX-DSL
        \end{verbatim}
  \item In das \verb+ScalTeX-DSL/Scala-NextGen+ Verzeichnis wechseln,
  \item \verb+sbt+ ausführen,
  \item in der sbt-shell den Befehl \verb+run+ eingeben.
  \item (Mit \verb+test+ werden die Testszenarien ausgeführt.)
\end{enumerate}

Nach dem \verb+run+ Befehl werden von sbt automatisch die benötigten
Bibliothektsabhänigkeiten und korrekte Scala Version heruntergeladen.
Danach werden die Quellen kompiliert und ausgeführt---es sollte dann eine
\verb+_output/output.html+ Datei entstehen, mit dem Dokument als HTML-Datei,
welche das kleine hier im Dokument entstandene JavaScript-Framework verwendet.

In \verb+src/main/scala/main.scala+ liegt das
beispielhafte Dokumentenskript.


\chapter{Codebeispiele}

\section{Beispiel DSL-Skript}\label{sec-api-resultat}

\begin{lstlisting}[caption=Ausführliches Scala DSL Dokument-Skript.]
import scaltex.template.fraunhofer._

object Doc extends FraunhoferReportBuilder {

  (new Document)

  Kapitel_X
  Kapitel_Y

  def main(args: Array[String]) {
    write("_output/output.html")
  }
}

object Kapitel_X extends Document {

  ++ § "Überschrift"

  ++ §§ "Unterüberschrift"

  ++ txt """
    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
    nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
    sed diam voluptua.
  """

  ++ txt $"""
    Lorem ipsum Abb. ${Chapter_1.figname.figureNumber} dolor sit amet, consetetur
    sadipscing elitr, sed diam
    nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
    sed diam voluptua.
  """


  ++ § "Beispiel"

  ++ §§ "Konkretes Beispiel"

  ++ §§ "Fazit"

  ++ §§§ "Überschrift 3. Ordnung"   $ "ueb"

  ++ txt """
    <em>Lorem ipsum</em> dolor sit amet, consetetur sadipscing elitr, sed diam
    nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
    sed diam voluptua.
  """

  ++ $ "figname" figure(
    src="https://raw.github.com/themerius/ScalTeX/play/public/images/plot.png",
    desc="Matplotlib example histogramm"
  )

  ++ txt $"""
    Lorem ipsum Abb. ${Chapter_2.otherfig.figureNumber} dolor sit amet, consetetur
    sadipscing elitr, sed diam
    nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
    sed diam voluptua.
  """
}

object Kapitel_Y extends Document {
  ++ § "Other"

  ++ $ "otherfig" figure(
    src="https://raw.github.com/themerius/ScalTeX/play/public/images/plot.png",
    desc="Matplotlib example histogramm"
  )

  ++ txt $"""
    Paragraph within Other.
    Reference on Fig ${Chapter_1.figname.figureNumber} in
    chapter ${Chapter_1.ueb.sectionNumber}.
  """
}
\end{lstlisting}